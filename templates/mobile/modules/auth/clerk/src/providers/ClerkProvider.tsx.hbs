import { ClerkProvider as BaseClerkProvider, ClerkLoaded } from '@clerk/clerk-expo';
import { tokenCache } from './tokenCache';

const publishableKey = process.env.EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY!;

if (!publishableKey) {
throw new Error('Missing EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY in environment variables');
}

interface ClerkProviderProps {
children: React.ReactNode;
}

export function ClerkProvider({ children }: ClerkProviderProps) {
return (
<BaseClerkProvider publishableKey={publishableKey} tokenCache={tokenCache}>
    <ClerkLoaded>
        {children}
    </ClerkLoaded>
</BaseClerkProvider>
);
}